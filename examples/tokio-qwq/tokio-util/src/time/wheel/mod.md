### 代码文件解释：`tokio-util/src/time/wheel/mod.rs`

#### 文件目的
该文件实现了 Tokio 时间轮（Timing Wheel）的核心数据结构 `Wheel`，用于高效管理超时任务（如定时器和延迟队列）。时间轮通过分层结构实现，支持毫秒级精度且可扩展到两年时间范围，是 Tokio 异步运行时中定时任务调度的基础组件。

---

#### 关键组件

1. **层级结构 (`Level`)**  
   - 时间轮由 6 层（`NUM_LEVELS = 6`）组成，每层包含 64 个槽位：
     - **层级 0**：1 毫秒粒度，覆盖 64 毫秒
     - **层级 1**：64 毫秒粒度，覆盖 ~4 秒
     - **层级 2**：~4 秒粒度，覆盖 ~4 分钟
     - **层级 3**：~4 分钟粒度，覆盖 ~4 小时
     - **层级 4**：~4 小时粒度，覆盖 ~12 天
     - **层级 5**：~12 天粒度，覆盖 ~2 年
   - 每个层级通过 `Level<T>` 结构体管理槽位中的超时任务。

2. **时间轮 (`Wheel<T>`)**  
   - **字段**：
     - `elapsed`: 记录自时间轮启动以来经过的毫秒数。
     - `levels`: 包含 6 层 `Level` 的数组。
   - **泛型 `T: Stack`**：支持两种存储方式：
     - 堆存储（直接存储任务）
     - 指向 slab 的引用（通过 `Stack` trait 实现）

3. **核心方法**  
   - **插入任务 (`insert`)**：
     - 根据超时时间 `when` 计算层级（`level_for`）。
     - 检查时间有效性，返回 `InsertError` 若无效。
   - **删除任务 (`remove`)**：根据任务标识从对应层级移除。
   - **轮询到期任务 (`poll`)**：
     - 遍历层级找到最近到期任务。
     - 若任务在非底层层级，将其下移至更低层级（`poll_expiration`）。
     - 底层任务直接返回给调用者。
   - **时间推进 (`set_elapsed`)**：更新经过时间 `elapsed`。

4. **错误处理 (`InsertError`)**  
   - `Elapsed`: 超时时间已过。
   - `Invalid`: 时间超出最大支持范围（`MAX_DURATION ≈ 2 年`）。

---

#### 工作原理
1. **层级选择 (`level_for`)**  
   通过计算时间差的二进制前导零数量，确定任务应存储的层级，确保时间精度与范围的平衡。

2. **任务到期处理**  
   - 轮询时从顶层向下查找最近到期任务。
   - 非底层任务被“下移”到更低层级，直到到达底层（层级 0）时触发回调。

3. **时间推进机制**  
   `poll` 方法将时间轮的 `elapsed` 更新到当前时间，确保所有过期任务被处理。

---

#### 在项目中的角色
该文件是 Tokio 时间管理模块的核心实现，为 `Timer` 和 `DelayQueue` 提供底层时间轮数据结构，支持高效管理异步任务的超时和定时触发。
