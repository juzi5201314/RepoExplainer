### 文件说明：Tokio 运行时任务的底层实现

#### 文件目的
该文件 `raw.rs` 是 Tokio 异步运行时的核心组件之一，负责实现任务（Task）的底层抽象和内存管理。通过 `RawTask` 结构体和虚拟函数表（Vtable）机制，提供对任务的高效操作，包括调度、执行、内存释放等关键功能。

---

#### 核心组件

1. **`RawTask` 结构体**
   - **功能**：任务的原始句柄，通过 `NonNull<Header>` 指针直接操作任务内存。
   - **关键方法**：
     - `new()`：创建新任务，分配内存并初始化。
     - `poll()` / `schedule()`：通过虚拟函数表调用对应操作。
     - `trailer()` / `header()`：访问任务的头部和尾部元数据。
     - `ref_inc()`：增加任务引用计数（用于 `AbortHandle`）。

2. **`Vtable` 虚拟函数表**
   - **作用**：存储类型擦除的函数指针，支持对不同泛型参数的任务进行统一操作。
   - **包含方法**：
     - `poll`：执行任务的 `Future`。
     - `schedule`：将任务放回调度器。
     - `dealloc`：释放任务内存。
     - `try_read_output`：读取任务执行结果。
     - 其他生命周期管理方法（如 `drop_join_handle_slow`）。

3. **内存布局计算**
   - **`OffsetHelper` 结构体**：通过 `const fn` 计算 `Cell<T, S>` 结构的字段偏移量，确保符合 `#[repr(C)]` 内存布局规则。
   - **关键函数**：
     - `get_trailer_offset()`：计算 `Trailer` 字段的偏移。
     - `get_core_offset()`：计算 `Core` 字段的偏移。
     - `get_id_offset()`：计算 `Id` 字段的偏移。

---

#### 工作流程
1. **任务创建**：
   - 调用 `RawTask::new()` 分配内存，初始化 `Cell` 结构（包含 `Header`、`Core`、`Trailer` 等字段）。
   - 通过 `Vtable` 绑定对应类型的函数实现。

2. **任务执行**：
   - 调度器通过 `RawTask` 的 `schedule()` 方法触发任务执行。
   - `poll()` 方法通过虚拟函数表调用 `Harness::poll()`，实际执行 `Future` 的 `poll` 方法。

3. **内存管理**：
   - 任务完成或取消后，通过 `dealloc()` 释放内存，确保资源正确回收。

4. **类型擦除与泛型支持**：
   - `vtable` 函数为不同泛型参数（如 `Future` 和 `Schedule`）生成对应的虚拟函数表，实现运行时多态。

---

#### 在项目中的角色
该文件是 Tokio 运行时任务管理的核心实现，提供低层任务句柄的抽象、内存布局计算和虚拟函数机制，确保异步任务的高效调度与执行。它通过类型擦除和指针操作，实现了对异步任务的统一管理和优化。
