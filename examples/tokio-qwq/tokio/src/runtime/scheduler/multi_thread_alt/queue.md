### 文件说明：工作窃取调度器的运行队列实现

#### 文件目的
该文件实现了 Tokio 多线程调度器中用于工作窃取（work-stealing）的运行队列结构。通过高效的队列操作支持多线程环境下的任务调度，确保任务在多个工作线程之间均衡分配。

---

#### 核心组件

1. **数据结构**
   - **Inner<T>**：队列的核心结构，包含：
     - `head`：原子长整型，用高位存储窃取指针（steal），低位存储真实队列头（real），防止ABA问题。
     - `tail`：原子短整型，表示队列尾的位置。
     - `buffer`：任务存储的循环缓冲区，使用 `UnsafeCell` 实现无锁操作。
     - `mask`：用于快速计算缓冲区索引的掩码（`capacity - 1`）。
   - **Local<T>**：生产者句柄，仅单线程使用，负责向队列尾部推送任务。
   - **Steal<T>**：消费者句柄，允许多线程窃取任务。

2. **关键操作**
   - **任务入队**：
     - `push_back`：安全地将任务添加到队列尾部，确保空间充足。
     - `push_back_or_overflow`：当队列满时，将半数任务溢出到外部队列，释放空间。
   - **任务窃取**：
     - `steal_into`：从源队列窃取半数任务到目标队列，通过原子操作保证线程安全。
     - `steal_into2`：具体实现窃取逻辑，通过CAS操作更新头指针并移动任务。

3. **原子操作优化**
   - 使用 `AtomicUnsignedLong` 和 `AtomicUnsignedShort` 实现无锁并发控制。
   - 通过 `AcqRel`、`Release` 等内存序保证可见性与顺序性。
   - `pack`/`unpack` 函数管理 `head` 的复合结构，分离窃取指针与真实队列头。

---

#### 工作流程
1. **任务入队**：
   - 生产者通过 `Local` 推送任务到队列尾部。
   - 当队列满时，触发溢出机制，将半数任务转移到全局注入队列。

2. **任务窃取**：
   - 空闲线程通过 `Steal` 句柄尝试窃取其他队列的任务。
   - 窃取时，源队列会保留半数任务，剩余任务被移动到目标队列。

3. **并发安全**：
   - 双指针（steal 和 real）设计防止环形队列的指针绕回问题。
   - CAS 操作确保多线程操作的原子性，避免竞态条件。

---

#### 在项目中的角色