这个文件定义了 Tokio 运行时调度器中用于多线程环境下的任务注入相关的代码。它主要实现了将一批任务高效地推入共享任务队列的功能。

**关键组件：**

*   `Shared<T>`:  这是一个泛型结构体，代表共享的任务队列。`T` 是任务的类型。它包含一个 `AtomicUsize` 类型的 `len` 字段，用于原子地记录队列中任务的数量。
*   `Synced`:  这是一个结构体，用于在多线程环境中同步对共享任务队列的访问。它通常与互斥锁结合使用。
*   `Lock<Synced>`:  这是一个 trait，定义了对 `Synced` 实例进行加锁和解锁的方法。`&'a mut Synced` 实现了这个 trait，允许通过可变引用来获取对 `Synced` 的独占访问权。
*   `push_batch<L, I>`:  这个方法是核心功能，它将一批任务推入共享队列。
    *   `L`:  实现了 `Lock<Synced>` trait 的类型，用于获取对 `Synced` 的锁。
    *   `I`:  一个迭代器，提供要推入队列的任务。任务的类型是 `task::Notified<T>`。
    *   该方法首先从迭代器中获取第一个任务，然后将剩余的任务链接起来，形成一个链表。最后，调用 `push_batch_inner` 方法将整个链表插入到共享队列中。
*   `push_batch_inner<L>`:  这个方法负责将已链接的任务链表插入到共享队列中。
    *   它首先获取对 `Synced` 的锁。
    *   如果队列已关闭，则释放锁，并释放所有任务。
    *   否则，将任务链表插入到队列的头部或尾部。
    *   最后，原子地增加队列中任务的数量。
*   `AsMut<Synced>`:  这个 trait 允许将 `Synced` 实例转换为可变引用。

**工作原理：**

1.  **任务准备:**  `push_batch` 方法接收一个任务迭代器。
2.  **任务链接:**  它将迭代器中的任务链接成一个链表，使用 `task::Notified<T>` 提供的 `queue_next` 字段来连接任务。
3.  **原子操作:**  `push_batch_inner` 方法使用互斥锁来保护对共享队列的访问，确保线程安全。它使用原子操作来更新队列的长度。
4.  **高效插入:**  通过链接任务，可以一次性将整个任务链表插入到队列中，减少了锁的竞争和原子操作的开销，提高了效率。

**与其他组件的关联：**

*   **`task::Notified<T>`:**  表示一个已通知的任务，它包含了任务的执行上下文，以及用于链接任务的 `queue_next` 字段。
*   **`Lock<Synced>`:**  用于保护对共享队列的访问，确保线程安全。
*   **`Shared<T>`:**  代表共享的任务队列，存储任务并提供原子操作来管理队列的长度。

**总结：**
